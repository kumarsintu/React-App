{"ast":null,"code":"import { createSlice, configureStore } from \"@reduxjs/toolkit\";\nconst initialCartState = {\n  totalPrice: 0,\n  totalItemCount: 0,\n  cartItems: []\n};\nconst cartSlice = createSlice({\n  name: 'totalPriceSlice',\n  initialState: initialCartState,\n  reducers: {\n    addItem(state, action) {\n      console.log(\"addItem called\");\n      const currItem = { ...action.payload\n      };\n      var firstFlag = 0;\n\n      if (!state.cartItems.find(item => item.itemId === action.payload.itemId)) {\n        state.cartItems.push(currItem);\n        firstFlag = 1;\n      }\n\n      const reqItem = state.cartItems.find(item => item.itemId === action.payload.itemId);\n      console.log(reqItem.itemCount);\n      firstFlag === 1 ? reqItem.itemCount = 1 : reqItem.itemCount = reqItem.itemCount + 1;\n      firstFlag = 0;\n      console.log(reqItem.itemCount);\n      state.totalPrice = state.totalPrice + action.payload.itemPrice;\n      state.totalItemCount = state.totalItemCount + 1;\n    },\n\n    removeItem(state, action) {\n      const currItem = state.cartItems.find(item => item.itemId === action.payload.itemId);\n\n      if (currItem.itemCount === 1) {\n        state.cartItems = state.cartItems.filter(item => item.itemId !== action.payload.itemId);\n      } else {\n        currItem.itemCount = currItem.itemCount - 1;\n      }\n\n      state.totalPrice = state.totalPrice - action.payload.itemPrice;\n      state.totalItemCount >= 1 ? state.totalItemCount = state.totalItemCount - 1 : state.totalItemCount = 0;\n    }\n\n  }\n});\nconst store = configureStore({\n  reducer: {\n    cartSlice: cartSlice.reducer\n  }\n});\nexport const cartActions = cartSlice.actions;\nexport default store;","map":{"version":3,"sources":["/home/ravi/reactproject/foodie-work/foodie/src/store/index.js"],"names":["createSlice","configureStore","initialCartState","totalPrice","totalItemCount","cartItems","cartSlice","name","initialState","reducers","addItem","state","action","console","log","currItem","payload","firstFlag","find","item","itemId","push","reqItem","itemCount","itemPrice","removeItem","filter","store","reducer","cartActions","actions"],"mappings":"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","sourcesContent":["import {createSlice,configureStore} from \"@reduxjs/toolkit\";\n\nconst initialCartState={totalPrice:0,totalItemCount:0,cartItems:[]};\n\nconst cartSlice = createSlice({\n  name:'totalPriceSlice',\n  initialState:initialCartState,\n  reducers : {\n    addItem(state,action){\n        console.log(\"addItem called\");\n        const currItem={...action.payload};\n        var firstFlag=0;\n        if(!state.cartItems.find(item=>item.itemId===action.payload.itemId)){\n          state.cartItems.push(currItem);\n          firstFlag=1;\n        }\n        const reqItem=state.cartItems.find(item=>item.itemId===action.payload.itemId);\n        console.log(reqItem.itemCount);\n        firstFlag===1?reqItem.itemCount=1:reqItem.itemCount=reqItem.itemCount+1;\n        firstFlag=0;\n        console.log(reqItem.itemCount);\n        state.totalPrice=state.totalPrice+action.payload.itemPrice;\n        state.totalItemCount=state.totalItemCount+1;\n    },\n    removeItem(state,action){\n        const currItem = state.cartItems.find(item=>item.itemId===action.payload.itemId);\n        if(currItem.itemCount===1){\n          state.cartItems=state.cartItems.filter(item=>item.itemId!==action.payload.itemId);\n        }\n        else{\n          currItem.itemCount=currItem.itemCount-1;\n        }\n        state.totalPrice=state.totalPrice-action.payload.itemPrice;\n        state.totalItemCount>=1?state.totalItemCount=state.totalItemCount-1:state.totalItemCount=0;\n    }\n  }\n});\n\nconst store = configureStore({\n  reducer:{cartSlice:cartSlice.reducer}\n});\n\nexport const cartActions = cartSlice.actions;\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}