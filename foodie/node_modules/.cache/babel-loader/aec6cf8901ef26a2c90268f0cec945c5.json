{"ast":null,"code":"import { createSlice, configureStore } from \"@reduxjs/toolkit\";\nconst initialPriceState = {\n  totalPrice: 0,\n  totalItemCount: 0,\n  cartItems: []\n};\nconst cartDetails = createSlice({\n  name: 'totalPriceSlice',\n  inititalState: initialPriceState,\n  reducers: {\n    addItem(state, action) {\n      if (!state.cartItems.includes(action.payload.item)) {\n        state.cartItems.push(action.payload.item);\n      }\n\n      state.totalPrice = state.totalPrice + action.payload.item.price;\n      state.totalItemCount = state.totalItemCount + 1;\n    },\n\n    removeItem(state, action) {\n      const currItem = state.cartItems.find(item => item === action.payload.item);\n\n      if (currItem.itemCount === 1) {\n        state.cartItems = state.cartItems.find(item => item !== action.payload.item);\n      }\n\n      state.totalPrice = state.totalPrice - currItem.price;\n      state.totalItemCount >= 1 ? state.totalItemCount = state.totalItemCount - 1 : state.totalItemCount = 0;\n    },\n\n    addItemPrice(state, action) {\n      state.totalPrice = state.totalPrice + action.price;\n      state.totalItemCount = state.totalItemCount + 1;\n    },\n\n    removeItemPrice(state, action) {\n      state.totalPrice = state.totalPrice - action.price;\n      state.totalItemCount >= 1 ? state.totalItemCount = state.totalItemCount - 1 : state.totalItemCount = 0;\n    }\n\n  }\n});\nconst store = configureStore({\n  reducer: {\n    cartDetails: cartDetails.reducer\n  }\n});\nexport const cartActions = cartDetails.reducer;\nexport default store;","map":{"version":3,"sources":["/home/ravi/reactproject/foodie-work/foodie/src/store/index.js"],"names":["createSlice","configureStore","initialPriceState","totalPrice","totalItemCount","cartItems","cartDetails","name","inititalState","reducers","addItem","state","action","includes","payload","item","push","price","removeItem","currItem","find","itemCount","addItemPrice","removeItemPrice","store","reducer","cartActions"],"mappings":"AAAA,SAAQA,WAAR,EAAoBC,cAApB,QAAyC,kBAAzC;AAEA,MAAMC,iBAAiB,GAAC;AAACC,EAAAA,UAAU,EAAC,CAAZ;AAAcC,EAAAA,cAAc,EAAC,CAA7B;AAA+BC,EAAAA,SAAS,EAAC;AAAzC,CAAxB;AACA,MAAMC,WAAW,GAAGN,WAAW,CAAC;AAC9BO,EAAAA,IAAI,EAAC,iBADyB;AAE9BC,EAAAA,aAAa,EAACN,iBAFgB;AAG9BO,EAAAA,QAAQ,EAAG;AACTC,IAAAA,OAAO,CAACC,KAAD,EAAOC,MAAP,EAAc;AACjB,UAAG,CAACD,KAAK,CAACN,SAAN,CAAgBQ,QAAhB,CAAyBD,MAAM,CAACE,OAAP,CAAeC,IAAxC,CAAJ,EAAkD;AAChDJ,QAAAA,KAAK,CAACN,SAAN,CAAgBW,IAAhB,CAAqBJ,MAAM,CAACE,OAAP,CAAeC,IAApC;AACD;;AACDJ,MAAAA,KAAK,CAACR,UAAN,GAAiBQ,KAAK,CAACR,UAAN,GAAiBS,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBE,KAAtD;AACAN,MAAAA,KAAK,CAACP,cAAN,GAAqBO,KAAK,CAACP,cAAN,GAAqB,CAA1C;AACH,KAPQ;;AAQTc,IAAAA,UAAU,CAACP,KAAD,EAAOC,MAAP,EAAc;AACtB,YAAMO,QAAQ,GAAGR,KAAK,CAACN,SAAN,CAAgBe,IAAhB,CAAqBL,IAAI,IAAEA,IAAI,KAAGH,MAAM,CAACE,OAAP,CAAeC,IAAjD,CAAjB;;AACA,UAAGI,QAAQ,CAACE,SAAT,KAAqB,CAAxB,EAA0B;AACxBV,QAAAA,KAAK,CAACN,SAAN,GAAgBM,KAAK,CAACN,SAAN,CAAgBe,IAAhB,CAAqBL,IAAI,IAAEA,IAAI,KAAGH,MAAM,CAACE,OAAP,CAAeC,IAAjD,CAAhB;AACD;;AACDJ,MAAAA,KAAK,CAACR,UAAN,GAAiBQ,KAAK,CAACR,UAAN,GAAiBgB,QAAQ,CAACF,KAA3C;AACAN,MAAAA,KAAK,CAACP,cAAN,IAAsB,CAAtB,GAAwBO,KAAK,CAACP,cAAN,GAAqBO,KAAK,CAACP,cAAN,GAAqB,CAAlE,GAAoEO,KAAK,CAACP,cAAN,GAAqB,CAAzF;AACD,KAfQ;;AAgBTkB,IAAAA,YAAY,CAACX,KAAD,EAAOC,MAAP,EAAc;AACtBD,MAAAA,KAAK,CAACR,UAAN,GAAiBQ,KAAK,CAACR,UAAN,GAAiBS,MAAM,CAACK,KAAzC;AACAN,MAAAA,KAAK,CAACP,cAAN,GAAqBO,KAAK,CAACP,cAAN,GAAqB,CAA1C;AACH,KAnBQ;;AAoBTmB,IAAAA,eAAe,CAACZ,KAAD,EAAOC,MAAP,EAAc;AAC3BD,MAAAA,KAAK,CAACR,UAAN,GAAiBQ,KAAK,CAACR,UAAN,GAAiBS,MAAM,CAACK,KAAzC;AACAN,MAAAA,KAAK,CAACP,cAAN,IAAsB,CAAtB,GAAwBO,KAAK,CAACP,cAAN,GAAqBO,KAAK,CAACP,cAAN,GAAqB,CAAlE,GAAoEO,KAAK,CAACP,cAAN,GAAqB,CAAzF;AACD;;AAvBQ;AAHmB,CAAD,CAA/B;AA8BA,MAAMoB,KAAK,GAAGvB,cAAc,CAAC;AAC3BwB,EAAAA,OAAO,EAAC;AAACnB,IAAAA,WAAW,EAACA,WAAW,CAACmB;AAAzB;AADmB,CAAD,CAA5B;AAIA,OAAO,MAAMC,WAAW,GAAGpB,WAAW,CAACmB,OAAhC;AAEP,eAAeD,KAAf","sourcesContent":["import {createSlice,configureStore} from \"@reduxjs/toolkit\";\n\nconst initialPriceState={totalPrice:0,totalItemCount:0,cartItems:[]};\nconst cartDetails = createSlice({\n  name:'totalPriceSlice',\n  inititalState:initialPriceState,\n  reducers : {\n    addItem(state,action){\n        if(!state.cartItems.includes(action.payload.item)){\n          state.cartItems.push(action.payload.item);\n        }\n        state.totalPrice=state.totalPrice+action.payload.item.price;\n        state.totalItemCount=state.totalItemCount+1;\n    },\n    removeItem(state,action){\n      const currItem = state.cartItems.find(item=>item===action.payload.item);\n      if(currItem.itemCount===1){\n        state.cartItems=state.cartItems.find(item=>item!==action.payload.item);\n      }\n      state.totalPrice=state.totalPrice-currItem.price;\n      state.totalItemCount>=1?state.totalItemCount=state.totalItemCount-1:state.totalItemCount=0;\n    },\n    addItemPrice(state,action){\n        state.totalPrice=state.totalPrice+action.price;\n        state.totalItemCount=state.totalItemCount+1;\n    },\n    removeItemPrice(state,action){\n      state.totalPrice=state.totalPrice-action.price;\n      state.totalItemCount>=1?state.totalItemCount=state.totalItemCount-1:state.totalItemCount=0;\n    }\n  }\n});\n\nconst store = configureStore({\n  reducer:{cartDetails:cartDetails.reducer}\n});\n\nexport const cartActions = cartDetails.reducer;\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}